# 20. Valid Parentheses

Given a string s containing just the characters '(', ')', '{', '}', '[' and ']', determine if the input string is valid.

An input string is valid if:

1. Open brackets must be closed by the same type of brackets.
1. Open brackets must be closed in the correct order.
 

# Example 1:

* Input: s = "()"
* Output: true

# Example 2:

* Input: s = "()[]{}"
* Output: true
 
# Example 3:

* Input: s = "(]"
* Output: false

# Example 4:

* Input: s = "([)]"
* Output: false
# Example 5:

* Input: s = "{[]}"
* Output: true
 

# Constraints:

* 1 <= s.length <= 104
* s consists of parentheses only '()[]{}'.

# O(n) - 32ms my approach

* In this approach we need to use stack (implementation here is done by list) and dictionary. We intitialize the dictionary with closing brackets as keys and opening brackets as values. We iterate through the string and check if that char is present in dictionary (here brackets) or not, we do this find a valid pair of closing and opening brackets. 
* If it isnt present we add the char to the stack so that from next iteration onwards we need to search for its valid pair while comparing ( if brackets[i]==stack[-1] ).
* In the end, if all the valid pairs are found stack will be empty, if it isnt empty then that means a valid pair of opening and closing bracket wasnt found. Hence, we will return False.

```
class Solution:
    def isValid(self, s):
        stack = []
        brackets = {"]":"[", "}":"{", ")":"("}
        for i in s:
            if i in brackets:
                if brackets[i] == stack[-1]:
                    stack.pop()
            else:
                stack.append(i)
        if len(stack)==0:
            return True
        else:
            return False
```

# What did I miss ?

* I missed some corner cases whose early tackling can make the algorithm more efficient. Corner cases like : if we encounter a closing bracket and its complementary opening bracket is not in the stack, we break the looping and return False there itself else loop iteration continues. Since from example in the question, a string = `"([)]"` will return False. 
* Before coming to this code, I was getting runtime errors. The error was `key not found : "("` ([_STACK OVERFLOW SIMILAR ERROR_](https://stackoverflow.com/questions/10116518/im-getting-key-error-in-python)) for sample input : `"()"`. It was because I didnt write the code line : `if i in brackets:` to check first if the key present in brackets dictionary or not. To access dictionary we must know for sure that the key is present in the dictionary otherwise it will show error if we try to access a invalid key. ([_BLOG TO KNOW MORE ABOUT PYTHON KEY ERROR_](https://learningactors.com/python-keyerror-exceptions-and-how-to-handle-them/))
* To tackle the key error, I tried to use the build-in function has_key() [brackets.has_key(i)] but got an error. I later go to know that has_key() is removed from python 3. ([_STACK OVERFLOW SIMILAR ERROR_](https://stackoverflow.com/questions/33727149/dict-object-has-no-attribute-has-key))

# O(n) - 28ms Forum approach

* The concept of stack application is similar here where if stack is empty return True else False. 
* Here we are checking if each iteration char lies in closing bracket (key) or opening bracket (value), based on which we are adding opening brackets into the stack and for closing bracket we are comparing the top element of stack. 
* If the top element is the complementary opening bracket to closing bracket, loop iteration continues else we break the loop and return False.

```
class Solution:
    def isValid(self, s):
        stack = []
        dict = {"]":"[", "}":"{", ")":"("}
        for char in s:
            if char in dict.values():
                stack.append(char)
            elif char in dict.keys():
                if stack == [] or dict[char] != stack.pop():
                    return False
            else:
                return False
        return stack == []
``` 

# Reference

* http://ouwang.me/2018/12/08/Python-LeetCode-20-Valid-Parentheses/
* https://www.geeksforgeeks.org/stack-in-python/
* https://stackoverflow.com/questions/33727149/dict-object-has-no-attribute-has-key
* https://stackoverflow.com/questions/10116518/im-getting-key-error-in-python
* https://learningactors.com/python-keyerror-exceptions-and-how-to-handle-them/
* https://www.geeksforgeeks.org/python-traceback/
